(self.webpackChunk_apollo_client=self.webpackChunk_apollo_client||[]).push([[8235],{8235:(e,t,r)=>{"use strict";r.d(t,{Ri:()=>o,Ct:()=>i,h4:()=>G,yD:()=>s,ab:()=>A,uG:()=>P,QS:()=>C});var i,a=r(1378),n=r(9188),o=function(){function e(){this.getFragmentDoc=(0,a.wrap)(n.Yk)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();i||(i={});var s=function(e,t,r,i,a){this.message=e,this.path=t,this.query=r,this.clientOnly=i,this.variables=a},c=r(2351),u=r(5372),l=r(4205),p=Object.prototype.hasOwnProperty,f=/^[_a-z][_0-9a-z]*/i;function d(e){var t=e.match(f);return t?t[0]:e}function h(e,t,r){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return h(e,t,r)})):e.selections.every((function(e){if((0,n.My)(e)&&(0,n.LZ)(e,r)){var i=(0,n.u2)(e);return p.call(t,i)&&(!e.selectionSet||h(e.selectionSet,t[i],r))}return!0})))}function y(e){return null!==e&&"object"==typeof e&&!(0,n.hh)(e)&&!Array.isArray(e)}function v(e){var t=e&&e.__field;return t&&(0,n.My)(t)}var m=function(e,t,r){var i=e[r],a=t[r];return v(i)?(i.__value=this.merge(i.__value,v(a)?a.__value:a),i):v(a)?(a.__value=this.merge(i,a.__value),a):this.merge(i,a)},g=Object.create(null),b=function(){return g},_=Object.create(null),S=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,n.Jv)((0,n.hh)(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,n.hh)(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,n.kQ)(e);if((0,n.hh)(e))return e;var i=r.policies.identify(e)[0];if(i){var a=(0,n.kQ)(i);return t&&r.merge(i,e),a}}}return e.prototype.toObject=function(){return(0,c.__assign)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),p.call(this.data,e)){var r=this.data[e];if(r&&p.call(r,t))return r[t]}return"__typename"===t&&p.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof k?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),p.call(this.data,e)?this.data[e]:this instanceof k?this.parent.lookup(e,t):void 0},e.prototype.merge=function(e,t){var r=this,i=this.lookup(e),a=new n.w0(T).merge(i,t);if(this.data[e]=a,a!==i&&(delete this.refs[e],this.group.caching)){var o=Object.create(null);i||(o.__exists=1),Object.keys(t).forEach((function(e){i&&i[e]===a[e]||(o[d(e)]=1,void 0!==a[e]||r instanceof k||delete a[e])})),Object.keys(o).forEach((function(t){return r.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var r=this,i=this.lookup(e);if(i){var a=Object.create(null),o=!1,s=!0,u={DELETE:g,INVALIDATE:_,isReference:n.hh,toReference:this.toReference,canRead:this.canRead,readField:function(t,i){return r.policies.readField("string"==typeof t?{fieldName:t,from:i||(0,n.kQ)(e)}:t,{store:r})}};if(Object.keys(i).forEach((function(l){var p=d(l),f=i[l];if(void 0!==f){var h="function"==typeof t?t:t[l]||t[p];if(h){var y=h===b?g:h((0,n.Jv)(f),(0,c.__assign)((0,c.__assign)({},u),{fieldName:p,storeFieldName:l,storage:r.getStorage(e,l)}));y===_?r.group.dirty(e,l):(y===g&&(y=void 0),y!==f&&(a[l]=y,o=!0,f=y))}void 0!==f&&(s=!1)}})),o)return this.merge(e,a),s&&(this instanceof k?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var i,a=this.lookup(e);if(a){var n=this.getFieldValue(a,"__typename"),o=t&&r?this.policies.getStoreFieldName({typename:n,fieldName:t,args:r}):t;return this.modify(e,o?((i={})[o]=b,i):b)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(p.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof k&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;Object.keys(this.data).forEach((function(r){e&&p.call(e,r)||t.delete(r)})),e&&Object.keys(e).forEach((function(r){t.merge(r,e[r])}))},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof k&&this.parent.getRootIdSet(e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach((function(i){p.call(r,i)&&(Object.keys(e.findChildRefIds(i)).forEach(t.add,t),delete r[i])}));var i=Object.keys(r);if(i.length){for(var a=this;a instanceof k;)a=a.parent;i.forEach((function(e){return a.delete(e)}))}return i},e.prototype.findChildRefIds=function(e){if(!p.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=new Set([this.data[e]]),i=function(e){return null!==e&&"object"==typeof e};r.forEach((function(e){(0,n.hh)(e)?t[e.__ref]=!0:i(e)&&Object.values(e).filter(i).forEach(r.add,r)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),O=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new a.KeyTrie(n.mr),this.d=e?(0,a.dep)():null}return e.prototype.depend=function(e,t){this.d&&this.d(w(e,t))},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(w(e,t))},e}();function w(e,t){return d(t)+"#"+e}!function(e){var t=function(e){function t(t){var r=t.policies,i=t.resultCaching,o=void 0===i||i,s=t.seed,c=e.call(this,r,new O(o))||this;return c.storageTrie=new a.KeyTrie(n.mr),c.sharedLayerGroup=new O(o),s&&c.replace(s),c}return(0,c.__extends)(t,e),t.prototype.addLayer=function(e,t){return new k(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(e,t){return this.storageTrie.lookup(e,t)},t}(e);e.Root=t}(S||(S={}));var k=function(e){function t(t,r,i,a){var n=e.call(this,r.policies,a)||this;return n.id=t,n.parent=r,n.replay=i,n.group=a,i(n),n}return(0,c.__extends)(t,e),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==r.lookup(e)&&t.delete(e)})),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,c.__assign)((0,c.__assign)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return p.call(this.data,t)?(0,c.__assign)((0,c.__assign)({},r),e.prototype.findChildRefIds.call(this,t)):r},t.prototype.getStorage=function(e,t){return this.parent.getStorage(e,t)},t}(S);function T(e,t,r){var i=e[r],a=t[r];return(0,l.equal)(i,a)?i:a}function j(e){return!!(e instanceof S&&e.group.caching)}function I(e,t){return new s(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var R=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=(0,a.wrap)((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,r){if(j(r.store))return r.store.makeCacheKey(e,(0,n.hh)(t)?t.__ref:t,r.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=(0,a.wrap)((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,r=e.array,i=e.context;if(j(i.store))return i.store.makeCacheKey(t,r,i.varString)}}),this.config=(0,c.__assign)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,i=e.rootId,a=void 0===i?"ROOT_QUERY":i,o=e.variables,s=e.returnPartialData,u=void 0===s||s,l=this.config.cache.policies;o=(0,c.__assign)((0,c.__assign)({},(0,n.O4)((0,n.iW)(r))),o);var p=this.executeSelectionSet({selectionSet:(0,n.p$)(r).selectionSet,objectOrReference:(0,n.kQ)(a),context:{store:t,query:r,policies:l,variables:o,varString:JSON.stringify(o),fragmentMap:(0,n.F)((0,n.kU)(r)),path:[],clientOnly:!1}}),f=p.missing&&p.missing.length>0;if(f&&!u)throw p.missing[0];return{result:p.result,missing:p.missing,complete:!f}},e.prototype.isFresh=function(e,t,r,i){if(j(i.store)&&this.knownResults.get(e)===r){var a=this.executeSelectionSet.peek(r,t,i);if(a&&e===a.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,i=e.objectOrReference,a=e.context;if((0,n.hh)(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:{},missing:[I(new u.InvariantError(4),a)]};var o=a.variables,s=a.policies,c=a.store,l=[],p={result:null},f=c.getFieldValue(i,"__typename");function d(){return p.missing||(p.missing=[])}function h(e){var t;return e.missing&&(t=d()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof f&&!s.rootIdsByTypename[f]&&l.push({__typename:f});var y=new Set(r.selections);return y.forEach((function(e){var r;if((0,n.LZ)(e,o))if((0,n.My)(e)){var c=s.readField({fieldName:e.name.value,field:e,variables:a.variables,from:i},a),p=(0,n.u2)(e);a.path.push(p);var v=a.clientOnly;a.clientOnly=v||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===c?n.Gw.added(e)||d().push(I(new u.InvariantError(5),a)):Array.isArray(c)?c=h(t.executeSubSelectedArray({field:e,array:c,context:a})):e.selectionSet&&null!=c&&(c=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,context:a}))),void 0!==c&&l.push(((r={})[p]=c,r)),a.clientOnly=v,(0,u.invariant)(a.path.pop()===p)}else{var m=(0,n.hi)(e,a.fragmentMap);m&&s.fragmentMatches(m,f)&&m.selectionSet.selections.forEach(y.add,y)}})),p.result=(0,n.bw)(l),this.knownResults.set(p.result,r),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,i=e.field,a=e.array,n=e.context;function o(e,r){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,u.invariant)(n.path.pop()===r),e.result}return i.selectionSet&&(a=a.filter(n.store.canRead)),{result:a=a.map((function(e,t){return null===e?null:(n.path.push(t),Array.isArray(e)?o(r.executeSubSelectedArray({field:i,array:e,context:n}),t):i.selectionSet?o(r.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:e,context:n}),t):((0,u.invariant)(n.path.pop()===t),e))})),missing:t}},e}(),F=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,r=e.result,i=e.dataId,a=e.store,o=e.variables,s=(0,n.$H)(t),l=new n.w0(m);o=(0,c.__assign)((0,c.__assign)({},(0,n.O4)(s)),o);var p=this.processSelectionSet({result:r||Object.create(null),dataId:i,selectionSet:s.selectionSet,context:{store:a,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:o,varString:JSON.stringify(o),fragmentMap:(0,n.F)((0,n.kU)(t))}});if(!(0,n.hh)(p))throw new u.InvariantError(7);return a.retain(p.__ref),p},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,i=e.result,a=e.selectionSet,o=e.context,s=e.out,c=void 0===s?{shouldApplyMerges:!1}:s,l=this.cache.policies,p=l.identify(i,a,o.fragmentMap),f=p[0],d=p[1];if("string"==typeof(r=r||f)){var h=o.written[r]||(o.written[r]=[]),y=(0,n.kQ)(r);if(h.indexOf(a)>=0)return y;if(h.push(a),this.reader&&this.reader.isFresh(i,y,a,o))return y}var v=Object.create(null);d&&(v=o.merge(v,d));var m=r&&l.rootTypenamesById[r]||(0,n.qw)(i,a,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof m&&(v.__typename=m);var g=new Set(a.selections);if(g.forEach((function(e){var r;if((0,n.LZ)(e,o.variables))if((0,n.My)(e)){var a=(0,n.u2)(e),s=i[a];if(void 0!==s){var p=l.getStoreFieldName({typename:m,fieldName:e.name.value,field:e,variables:o.variables}),f=t.processFieldValue(s,e,o,c);l.hasMergeFunction(m,e.name.value)&&(f={__field:e,__typename:m,__value:f},c.shouldApplyMerges=!0),v=o.merge(v,((r={})[p]=f,r))}else if(l.usingPossibleTypes&&!(0,n.FS)(["defer","client"],e))throw new u.InvariantError(8)}else{var d=(0,n.hi)(e,o.fragmentMap);d&&l.fragmentMatches(d,m,i,o.variables)&&d.selectionSet.selections.forEach(g.add,g)}})),"string"==typeof r){var b=(0,n.kQ)(r);return c.shouldApplyMerges&&(v=l.applyMerges(b,v,o)),o.store.merge(r,v),b}return v},e.prototype.processFieldValue=function(e,t,r,i){var a=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e){return a.processFieldValue(e,t,r,i)})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,out:i}):e},e}();new Set;var E=r(1749),x=(0,a.dep)(),A=new E.Slot;function M(e,t){var r=[];e.forEach((function(e){return r.push(e)})),e.clear(),r.forEach(t)}function C(e){var t=new Set,r=new Set,i=function(a){if(arguments.length>0)e!==a&&(e=a,x.dirty(i),t.forEach(D),M(r,(function(t){return t(e)})));else{var n=A.getValue();n&&t.add(n),x(i)}return e};return i.onNextChange=function(e){return r.add(e),function(){r.delete(e)}},i}function D(e){e.broadcastWatches&&e.broadcastWatches()}function N(e){return void 0!==e.args?e.args:e.field?(0,n.NC)(e.field,e.variables):null}var P=function(e,t){var r=e.__typename,i=e.id,a=e._id;if("string"==typeof r&&(t&&(t.keyObject=void 0!==i?{id:i}:void 0!==a?{_id:a}:void 0),void 0===i&&(i=a),void 0!==i))return r+":"+("number"==typeof i||"string"==typeof i?i:JSON.stringify(i))},q=function(){},Q=function(e,t){return t.fieldName},W=function(e,t,r){return(0,r.mergeObjects)(e,t)},L=function(e,t){return t},B=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,c.__assign)({dataIdFromObject:P},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,r){var i=t&&r?(0,n.qw)(e,t,r):e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a,o={typename:i,selectionSet:t,fragmentMap:r},s=this.getTypePolicy(i,!1),c=s&&s.keyFn||this.config.dataIdFromObject;c;){var u=c(e,o);if(!Array.isArray(u)){a=u;break}c=U(u)}return a=a&&String(a),o.keyObject?[a,o.keyObject]:[a]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(r){var i=t.getTypePolicy(r,!0),a=e[r],n=a.keyFields,o=a.fields;a.queryType&&t.setRootTypename("Query",r),a.mutationType&&t.setRootTypename("Mutation",r),a.subscriptionType&&t.setRootTypename("Subscription",r),i.keyFn=!1===n?q:Array.isArray(n)?U(n):"function"==typeof n?n:i.keyFn,o&&Object.keys(o).forEach((function(e){var i=t.getFieldPolicy(r,e,!0),a=o[e];if("function"==typeof a)i.read=a;else{var n=a.keyArgs,s=a.read,c=a.merge;i.keyFn=!1===n?Q:Array.isArray(n)?z(n):"function"==typeof n?n:i.keyFn,"function"==typeof s&&(i.read=s),i.merge="function"==typeof c?c:!0===c?W:!1===c?L:i.merge}i.read&&i.merge&&(i.keyFn=i.keyFn||Q)}))}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&((0,u.invariant)(!i||i===e,1),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(r){t.getSupertypeSet(r,!0),e[r].forEach((function(e){t.getSupertypeSet(e,!0).add(r);var i=e.match(f);i&&i[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e,t){if(e)return this.typePolicies[e]||t&&(this.typePolicies[e]=Object.create(null))},e.prototype.getFieldPolicy=function(e,t,r){var i=this.getTypePolicy(e,r);if(i){var a=i.fields||r&&(i.fields=Object.create(null));if(a)return a[t]||r&&(a[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,i){var a=this;if(!e.typeCondition)return!0;if(!t)return!1;var n=e.typeCondition.name.value;if(t===n)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(n))for(var o=this.getSupertypeSet(t,!0),s=[o],c=function(e){var t=a.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},u=!(!r||!this.fuzzySubtypes.size),l=0;l<s.length;++l){var p=s[l];if(p.has(n))return o.has(n)||o.add(n),!0;p.forEach(c),u&&l===s.length-1&&h(e.selectionSet,r,i)&&(u=!1,this.fuzzySubtypes.forEach((function(e,r){var i=t.match(e);i&&i[0]===t&&c(r)})))}return!1},e.prototype.getStoreFieldName=function(e){var t,r=e.typename,i=e.fieldName,a=this.getFieldPolicy(r,i,!1),o=a&&a.keyFn;if(o&&r)for(var s={typename:r,fieldName:i,field:e.field||null,variables:e.variables},c=N(e);o;){var u=o(c,s);if(!Array.isArray(u)){t=u||i;break}o=z(u)}return void 0===t&&(t=e.field?(0,n.vf)(e.field,e.variables):(0,n.PT)(i,N(e))),i===d(t)?t:i+":"+t},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var i=t.store.getFieldValue(r,"__typename");i&&(e.typename=i)}var a=this.getStoreFieldName(e),o=d(a),s=t.store.getFieldValue(r,a),c=this.getFieldPolicy(e.typename,o,!1),u=c&&c.read;if(u){var l=V(this,r,e,t,t.store.getStorage((0,n.hh)(r)?r.__ref:r,a));return A.withValue(this.cache,u,[s,l])}return s}},e.prototype.hasMergeFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.merge)},e.prototype.applyMerges=function(e,t,r,i){var a,o=this;if(v(t)){var s=t.__field,u=s.name.value;t=(0,this.getFieldPolicy(t.__typename,u,!1).merge)(e,t.__value,V(this,void 0,{typename:t.__typename,fieldName:u,field:s,variables:r.variables},r,i?(a=r.store).getStorage.apply(a,i):Object.create(null)))}if(Array.isArray(t))return t.map((function(e){return o.applyMerges(void 0,e,r)}));if(y(t)){var l,p=e,f=t,d=(0,n.hh)(p)?p.__ref:"object"==typeof p&&p;if(Object.keys(f).forEach((function(e){var t=f[e],i=o.applyMerges(r.store.getFieldValue(p,e),t,r,d?[d,e]:void 0);i!==t&&((l=l||Object.create(null))[e]=i)})),l)return(0,c.__assign)((0,c.__assign)({},f),l)}return t},e}();function V(e,t,r,i,a){var o=e.getStoreFieldName(r),s=d(o),l=r.variables||i.variables,p=i.store,f=p.getFieldValue,h=p.toReference,v=p.canRead;return{args:N(r),field:r.field||null,fieldName:s,storeFieldName:o,variables:l,isReference:n.hh,toReference:h,storage:a,cache:e.cache,canRead:v,readField:function(r,a){var n="string"==typeof r?{fieldName:r,from:a}:(0,c.__assign)({},r);return void 0===n.from&&(n.from=t),void 0===n.variables&&(n.variables=l),e.readField(n,i)},mergeObjects:function(t,r){if(Array.isArray(t)||Array.isArray(r))throw new u.InvariantError(2);if(t&&"object"==typeof t&&r&&"object"==typeof r){var a=f(t,"__typename"),n=f(r,"__typename"),o=a&&n&&a!==n,s=e.applyMerges(o?void 0:t,r,i);return!o&&y(t)&&y(s)?(0,c.__assign)((0,c.__assign)({},t),s):s}return r}}}function z(e){return function(t,r){return t?r.fieldName+":"+JSON.stringify(Y(t,e)):r.fieldName}}function U(e){var t=new a.KeyTrie(n.mr);return function(r,i){var a;if(i.selectionSet&&i.fragmentMap){var n=t.lookupArray([i.selectionSet,i.fragmentMap]);a=n.aliasMap||(n.aliasMap=K(i.selectionSet,i.fragmentMap))}var o=i.keyObject=Y(r,e,a);return i.typename+":"+JSON.stringify(o)}}function K(e,t){var r=Object.create(null),i=new Set([e]);return i.forEach((function(e){e.selections.forEach((function(e){if((0,n.My)(e)){if(e.alias){var a=e.alias.value,o=e.name.value;o!==a&&((r.aliases||(r.aliases=Object.create(null)))[o]=a)}e.selectionSet&&((r.subsets||(r.subsets=Object.create(null)))[e.name.value]=K(e.selectionSet,t))}else{var s=(0,n.hi)(e,t);s&&i.add(s.selectionSet)}}))})),r}function Y(e,t,r){var i,a=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof i){var n=r&&r.subsets,o=n&&n[i];a[i]=Y(e[i],t,o)}}else{var s=r&&r.aliases,c=s&&s[t]||t;(0,u.invariant)(p.call(e,c),3),a[i=t]=e[c]}})),a}var J={dataIdFromObject:P,addTypename:!0,resultCaching:!0,typePolicies:{}},G=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=C,r.txCount=0,r.maybeBroadcastWatch=(0,a.wrap)((function(e,t){return r.broadcastWatch.call(r,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?r.optimisticData:r.data;if(j(t)){var i=e.optimistic,a=e.rootId,n=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:i,rootId:a,variables:n}))}}}),r.watchDep=(0,a.dep)(),r.config=(0,c.__assign)((0,c.__assign)({},J),t),r.addTypename=!!r.config.addTypename,r.policies=new B({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.data=new S.Root({policies:r.policies,resultCaching:r.config.resultCaching}),r.optimisticData=r.data,r.storeWriter=new F(r,r.storeReader=new R({cache:r,addTypename:r.addTypename})),r}return(0,c.__extends)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){var t=e.optimistic?this.optimisticData:this.data;return("string"!=typeof e.rootId||t.has(e.rootId))&&this.storeReader.diffQueryAgainstStore({store:t,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:!1}).result||null},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(p.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,n.hh)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(p.call(e,"id"))return!1;e=(0,c.__assign)((0,c.__assign)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var r=this,i=function(t){var i=r,a=i.data,n=i.optimisticData;++r.txCount,t&&(r.data=r.optimisticData=t);try{e(r)}finally{--r.txCount,r.data=a,r.optimisticData=n}},a=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,i),a=!0):null===t?i(this.data):i(),this.broadcastWatches(a)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,n.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(r){return t.maybeBroadcastWatch(r,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var r=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(r.fromOptimisticTransaction=!0),e.callback(r)},t}(o)},5367:()=>{}}]);